<project name="mimetype" default="mimetype.jar"  basedir=".">

    <property name="src" value="src/main/java"/>
    <property name="resources" value="src/main/resources"/>
    <property name="build" value="build"/>
    <property name="lib" value="lib"/>
    <property name="external" value="../../external"/>
    <property name="deploy" value="deploy"/>

    <!--<fileset id="jarSet" dir="../openCage-utils/lib">-->
        <!--<include name="*.jar"/>-->
    <!--</fileset>-->

    <!--<fileset id="jarSet" file="${external}/production/mime-util-1.3.jar"     />-->

    <path id="jars">
        <fileset file="${external}/production/mime-util-1.3.jar" />
        <fileset file="${external}/production/commons-logging-1.1.jar" />
        <fileset file="${external}/production/commons-cli-1.0.jar" />
    </path>



    <target name="prepare">
        <tstamp/>
        <mkdir dir="${build}"/>
        <mkdir dir="${lib}"/>
        <mkdir dir="${deploy}"/>
       </target>

    <target name="clean">
        <delete dir="${build}"/>
        <delete dir="${lib}"/>
        <delete dir="${deploy}"/>
    </target>


    <target name="compile" depends="prepare">
        <javac srcdir="${src}" destdir="${build}">
            <classpath refid="jars"></classpath>
        </javac>

    </target>


    <target name="mimetype.jar" depends="compile">
        <jar jarfile="${lib}/mimetype.jar" basedir="${build}" manifest="${resources}/mimetype.mf">
            <fileset file="${resources}/org/openCage/stroy/mimetype/mime-types.properties" />
        </jar>
    </target>

    <target name="deploy" depends="mimetype.jar">
        <copy file="${lib}/mimetype.jar" todir="${deploy}"/>
        <copy file="${external}/production/mime-util-1.3.jar" todir="${deploy}" />
        <copy file="${external}/production/commons-logging-1.1.jar" todir="${deploy}" />
        <copy file="${external}/production/commons-cli-1.0.jar" todir="${deploy}" />
    </target>



</project>
